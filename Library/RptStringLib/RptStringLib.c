//-------------------------------------------------------------------------------------------------
//
// Includes
//
//-------------------------------------------------------------------------------------------------
#include "RptStringLib.h"
#include <Library/RptString.h>

//-------------------------------------------------------------------------------------------------
//
// Global Variables
//
//-------------------------------------------------------------------------------------------------
static char HEX_TABLE[] = { '0', '1', '2', '3', '4', '5', '6', '7',
                            '8', '9', 'A', 'B', 'C', 'D', 'E', 'F'};

//-------------------------------------------------------------------------------------------------
//
// PowerOf16
//
//-------------------------------------------------------------------------------------------------
unsigned long PowerOf16(unsigned long Power)
{
        unsigned long i;
        unsigned long Result = 0;

        Result = 1;
        for(i = 0; i < Power; i++) {
                Result *= 16;
        }

        return Result;
}

//-------------------------------------------------------------------------------------------------
//
// HexStringToUInt
//
//-------------------------------------------------------------------------------------------------
unsigned long HexStringToUInt(char *Hex)
{
        unsigned long UintValue = 0;
        int i, j;

        for(i = 0; i < strlen(Hex); i++) {
                for(j = 0; j < 16; j++) {
                        if(toupper(Hex[i]) == HEX_TABLE[j])
                                break;
                }

                UintValue += j * PowerOf16(strlen(Hex) - 1 - i);
        }

        return UintValue;
}

//-------------------------------------------------------------------------------------------------
//
// IsHexNumString
//
//-------------------------------------------------------------------------------------------------
int IsHexNumString(char *String)
{
        int     Result = 1;
        int     Found = 0;
        int     i = 0, j = 0;

        for(i = 0; i < strlen(String); i++) {
                Found = 0;
                for(j = 0; j < 16; j++) {
                        if(toupper(String[i]) == HEX_TABLE[j]) {
                                Found = 1;
                                break;
                        }
                }

                if(0 == Found) {
                        Result = 0;
                }
        }

        return Result;
}
